modules:
  - galsim_extra

stamp:
  type: MixedScene

  shear_scene: "$@current_obj_type == 'gal'"

  objects:
    star: 1
    gal: 1

  # for ring simulations, we apply the shear in the stamp
  shear:
    type: G1G2
    g1: 0.0
    g2: 0.0

psf:
  type: Gaussian

  fwhm: 0.7

star:
  type: DeltaFunction

gal:
  type: Exponential

  half_light_radius: 0.5

  signal_to_noise: 100

  shift:
   type: XY
   x: { 'type' : 'Random' , 'min' : '$ -1 * @image.pixel_scale', 'max' : '$ 1 * @image.pixel_scale' }
   y: { 'type' : 'Random' , 'min' : '$ -1 * @image.pixel_scale', 'max' : '$ 1 * @image.pixel_scale' }

image:
  type: Scattered
  nobjects: 100
  xsize: 320
  ysize: 320
  pixel_scale: 0.2  # arcsec / pixel

  random_seed : 42

  noise:
    type: Gaussian
    sigma: 0.02
